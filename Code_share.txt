dag:
  description: 'Example DAG'
  schedule_interval: '@daily'
  default_args:
    start_date: '2023-01-01'
    retry_delay: '5m'
    email_on_failure: true
    email_on_retry: false
    email: 'user@example.com'
  input_data_paths:
    - 's3://shared-bucket/shared-input/'
  output_data_path: 's3://shared-bucket/shared-output/'
tasks:
  - id: 'task_1'
    language: 'python'
    use_ecs: false  # If true, use ECS to run the Python task
    python_callable: 'example_callable_task_1'
    dependencies: []
  - id: 'task_2'
    language: 'pyspark'
    size: 500  # Size in MB
    input_data_paths:
      - 's3://example-bucket/input/task_2'
    output_data_path: 's3://example-bucket/output/task_2'
    dependencies: ['task_1']
  - id: 'task_3'
    language: 'python'
    use_ecs: true
    python_callable: 'example_callable_task_3'
    dependencies: ['task_1']
notifications:
  email:
    on_failure: true
    on_retry: false
    recipients:
      - 'admin@example.com'
